(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),l=a.n(o);a(68),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(69);var i=a(20),s=a(21),c=a(56),m=a.n(c);var u=function(e){return r.a.createElement("div",null,r.a.createElement(m.a,{className:"navbar navbar-fixed-top justify-content-end container-fluid"},r.a.createElement(i.b,{to:"/login"},"Login"),r.a.createElement(i.b,{to:"/"},"Home"),r.a.createElement(i.b,{to:"/trails"},"Trails")),e.children)},p=a(24),d=a(6),h=a(7),f=a(9),g=a(8),E=a(10),b=a(5),v=a.n(b),y=(a(27),a(132)),w=a(134);v.a.defaults.xsrfCookieName="csrftoken",v.a.defaults.xsrfHeaderName="X-CSRFToken";var k=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e,t){e.preventDefault(),console.log("hey"),a.props.history.push("/"),v.a.post("http://localhost:3000/rest-auth/login/",t).then(function(e){console.log(e),localStorage.setItem("token",e.data.key)}).catch(function(e){console.log(e)}).finally(function(){})},a.state={username:"",password:""},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"login-parent"},r.a.createElement("div",{className:"left-background"},"o"),r.a.createElement("div",{className:"Login",id:"right-side"},r.a.createElement("h3",null,"Login Page"),r.a.createElement(y.a,{className:"form-horizontal",onSubmit:function(t){return e.handleSubmit(t,e.state)}},r.a.createElement(y.a.Group,{className:"MainGrid"},r.a.createElement(y.a.Group,{controlId:"formGridUserName"},r.a.createElement(y.a.Label,{className:"labelColor",column:!0,sm:8},"Username"),r.a.createElement(y.a.Control,{type:"text",placeholder:"Enter Username",value:this.state.username,onChange:this.handleChange,name:"username"})),r.a.createElement(y.a.Group,{controlId:"formGridBasicPassword"},r.a.createElement(y.a.Label,{className:"labelColor",column:!0,sm:8},"Password"),r.a.createElement(y.a.Control,{type:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,name:"password"}))),r.a.createElement("div",{className:"loginbuttons"},r.a.createElement(w.a,{variant:"btn btn-outline-success",type:"submit"},"Login"),r.a.createElement(w.a,{variant:"btn btn-outline-success",type:"button",onClick:function(){e.props.history.push("/signup")}},"Signup")))))}}]),t}(n.Component),O=Object(s.f)(k),C=a(18);v.a.defaults.xsrfCookieName="csrftoken",v.a.defaults.xsrfHeaderName="X-CSRFToken";var j=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={fields:{username:"",email:"",password1:"",password2:""},errors:{}},a.handleChange=a.handleChange.bind(Object(C.a)(a)),a.submitUserSignupForm=a.submitUserSignupForm.bind(Object(C.a)(a)),a.handleSignup=a.handleSignup.bind(Object(C.a)(a)),a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(e){var t=Object.assign({},this.state.fields);t[e.target.name]=e.target.value,this.setState({fields:t})}},{key:"submitUserSignupForm",value:function(e){if(e.preventDefault(),this.validateForm()){var t={username:"",emailid:"",password1:"",password2:""};this.setState({fields:t}),alert("Form submitted")}}},{key:"handleSignup",value:function(e){e.preventDefault(),console.log(this.state.fields),v.a.post("http://localhost:3000/rest-auth/registration/",this.state.fields).then(function(e){console.log(e),localStorage.setItem("token",e.data.key)}).catch(function(e){console.log(e)}).finally(function(){})}},{key:"validateForm",value:function(){var e=this.state.fields,t={},a=!0;return e.username,e.username.match(/^[a-zA-Z]*$/)||(a=!1,t.username="*Please enter alphabet characters only."),e.email||(a=!1,t.email="*Please enter your email-ID."),new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e.email)||(a=!1,t.email="*Please enter your email-ID."),e.password1||(a=!1,t.password1="*Please enter your password."),e.password2||(a=!1,t.password2="*Please confirm your password."),"undefined"!==typeof e.password1&&(e.password1.match(/^.*(?=.{8,})(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%&]).*$/)||(a=!1,e.password2.match(/^.*(?=.{8,})(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%&]).*$/)||(t.password2="*Please enter secure and strong password."))),this.setState({errors:t}),a}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"main-registration-container"},r.a.createElement("section",{className:"left-background"}),r.a.createElement("div",{id:"right-side"},r.a.createElement("h3",null,"SignUp Page"),r.a.createElement(y.a,{onSubmit:function(t){return e.handleSignup(t,e.state)}},r.a.createElement(y.a.Group,{controlId:"formGridName"},r.a.createElement(y.a.Label,{className:"labelColor"},"Name"),r.a.createElement(y.a.Control,{className:"controlInput",type:"text",placeholder:"Enter Name",name:"username",value:this.state.fields.username,onChange:this.handleChange})),r.a.createElement(y.a.Group,{controlId:"formGridBasicEmail"},r.a.createElement(y.a.Label,{className:"labelColor"},"Email ID"),r.a.createElement(y.a.Control,{className:"controlInput",type:"email",placeholder:"Enter Email",name:"email",value:this.state.fields.email,onChange:this.handleChange})),r.a.createElement(y.a.Group,{controlId:"formGridPassword"},r.a.createElement(y.a.Label,{className:"labelColor"},"Password"),r.a.createElement(y.a.Control,{className:"controlInput",type:"password",placeholder:"Enter Password",name:"password1",value:this.state.fields.password1,onChange:this.handleChange})),r.a.createElement(y.a.Group,{controlId:"formGridPassword"},r.a.createElement(y.a.Label,{className:"labelColor"},"Confirm Password"),r.a.createElement(y.a.Control,{className:"controlInput",type:"password",placeholder:"Confirm Password",name:"password2",value:this.state.fields.Password2,onChange:this.handleChange}),r.a.createElement(w.a,{variant:"primary",type:"submit"},"Submit")))))}}]),t}(n.Component),N=a(60),x=a.n(N),S=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.trail;return r.a.createElement("div",null,e.name)}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).getTrails=function(){v.a.get("http://localhost:3000/api/v1/trails/").then(function(e){console.log(e),a.setState({trails:e.data})}).catch(function(e){console.log("Oops. There was an error.",e)}).finally(function(){})},a.state={park_name:"",length:"",difficulty:"",amenities:"",trails:[]},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getTrails()}},{key:"render",value:function(){console.log(this.state.trails);var e=this.state.trails.map(function(e){return r.a.createElement(S,{key:e.id,trail:e})});return r.a.createElement("main",{className:"homeContainer"},r.a.createElement("section",{className:"section-left"},r.a.createElement(x.a,{className:"story"},r.a.createElement("h4",null,"Back Story"),r.a.createElement("p",null,"Tiny Paths was born out of our experiences as a family who loves the outdoors and hiking. My wife and I started hiking on our honeymoon and have hiked every anniversary since then! When our son was born we took him on short hikes and my wife walked with him for miles in his hiking stroller."),r.a.createElement("p",null,"  Our experiences have taught us many things, such has smooth trails keep tripping to a minimum and inevitably you will be carrying your child so your going to get a work out! We have been up many a trail and had to turn back early because the little one was tired."),r.a.createElement("p",null," I have chosen these trails by difficulty (Green for easy and Blue for bigger kids), location within 20 miles of your current location, and trail names."),r.a.createElement("p",null,"Please feel free to sign in and leave a comment about the trails you've hiked for other parents to see too!!"),r.a.createElement("p",null,"Happy Hiking!!!"))),r.a.createElement("div",{className:"containterRight"},r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to Tiny Paths!"),e)))}}]),t}(n.Component),T=a(133),I=a(29),D=a.n(I);v.a.defaults.xsrfCookieName="csrftoken",v.a.defaults.xsrfHeaderName="X-CSRFToken";var A="http://localhost:8000",G=function(e){var t=e.text;return r.a.createElement("div",null,t,r.a.createElement("i",{className:"fas fa-child"}))},_=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return console.log("this.props",this.props),r.a.createElement("div",{style:{height:"100vh",width:"100%"}},r.a.createElement(D.a,{bootstrapURLKeys:{key:"$process.env.REACT_APP_GOOGLE_MAPS_API_KEY"},defaultCenter:this.props.center,defaultZoom:this.props.zoom},r.a.createElement(G,{lat:Number(this.props.trail.latitude)?Number(this.props.trail.latitude):34.85,lng:Number(this.props.trail.longitude)?Number(this.props.trail.longitude):-82.31,text:this.props.trail?this.props.trail.trail_name:""}),r.a.createElement(G,{lat:this.props.crd?this.props.crd.latitude:34.85,lng:this.props.crd?this.props.crd.longitude:-82.31,text:this.props.crd?"You are here!":""})))}}]),t}(n.Component);_.defaultProps={center:{lat:34.85,lng:-82.31},zoom:11};var L=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).handleInput=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.handleUpdate=function(e){a.setState({isEditing:!1});var t=Object.assign({},a.props.comment);t.text=a.state.text,v.a.put("".concat(A,"/api/v1/comments/").concat(a.props.comment.id,"/"),t).then(function(e){console.log("comment saved",e.data)}).catch(function(e){console.log("Oops, something went wrong",e)})},a.state={text:"",isEditing:!1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.comment.text;this.setState({text:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T.a,{className:"trail comment"},this.state.isEditing?r.a.createElement("div",null,r.a.createElement(y.a.Group,null,r.a.createElement(y.a.Control,{name:"text",as:"textarea",rows:"3",value:this.state.text,onChange:this.handleInput})),r.a.createElement(w.a,{variant:"primary",as:"link",onClick:this.handleUpdate},"Update"),r.a.createElement(w.a,{variant:"link",onClick:function(){return e.setState({isEditing:!1})}},"Cancel")):r.a.createElement("div",null,this.state.text,r.a.createElement(w.a,{variant:"link",onClick:function(){return e.setState({isEditing:!0})}},"Edit"),r.a.createElement(w.a,{variant:"link",onClick:this.props.handleDelete},"Delete"))))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).getTrail=function(){v.a.get("".concat(A,"/api/v1/trails/").concat(a.props.match.params.id,"/")).then(function(e){console.log("trail test",e.data),a.setState({trail:e.data})}).catch(function(e){console.log("Oops, something went wrong",e)})},a.addComment=function(e){var t=Object.assign({},a.state.trail),n={};n.trail=a.state.trail.id,n.text=a.state.text,v.a.post("".concat(A,"/api/v1/comments/"),n).then(function(e){console.log("comment",e.data),t.comments.unshift(e.data),a.setState({trail:t,text:""})}).catch(function(e){console.log("Oops, something went wrong",e)})},a.handleInput=function(e){a.setState(Object(p.a)({},e.target.name,e.target.value))},a.handleDelete=function(e){var t=Object.assign({},a.state.trail),n=t.comments,r=n.indexOf(t);n.splice(r,1),t.comments=n,a.setState({trail:t}),v.a.delete("".concat(A,"/api/v1/comments/").concat(e.id,"/")).then(function(e){console.log("comment deleted",e.data)}).catch(function(e){console.log("Oops, something went wrong",e)})},a.getApiData=function(){navigator.geolocation.getCurrentPosition(function(e){e.coords;a.setState({crd:e.coords}),console.log("I am here",e.coords)},function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},a.state={trail:{comments:[]},text:""},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.location.trail?this.setState({trail:this.props.location.trail}):this.getTrail(),this.getApiData()}},{key:"render",value:function(){var e=this;console.log("one two",this.props.location.crd);var t,a=this.state.trail.comments.map(function(t){return r.a.createElement(L,{key:t.id,comment:t,handleDelete:function(){return e.handleDelete(t)}})});return this.state.crd&&(t="http://maps.google.com/maps/dir/".concat(this.state.crd.latitude,",").concat(this.state.crd.longitude,"/").concat(this.state.trail.latitude,",").concat(this.state.trail.longitude)),r.a.createElement("section",null,r.a.createElement("div",{className:"col information-page detail-page"},r.a.createElement("header",null,r.a.createElement(T.a,{className:"details-card trail"},r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Title,null,"Trail Name:",r.a.createElement("br",null),this.state.trail.trail_name),r.a.createElement(T.a.Text,null,"Location:",r.a.createElement("br",null),this.state.trail.location),r.a.createElement(T.a.Text,{className:"summary"},"Summary:",r.a.createElement("br",null)," ",this.state.trail.summary),r.a.createElement(T.a.Text,null,"Park Name:",r.a.createElement("br",null),this.state.trail.park_name),r.a.createElement(T.a.Text,null,"Difficulty:",r.a.createElement("br",null),this.state.trail.difficulty),r.a.createElement(T.a.Text,null,"Amenities:",r.a.createElement("br",null),this.state.trail.amenities),r.a.createElement("a",{href:t,className:"btn btn-success directions",target:"_blank"},"Get Directions")))),r.a.createElement(y.a.Group,{id:"add comment",controlId:"Form.ControlTextarea"},r.a.createElement(y.a.Label,null,"Add Comment"),r.a.createElement(y.a.Control,{as:"textarea",rows:"3",value:this.state.text,onChange:this.handleInput,name:"text"}),r.a.createElement(w.a,{variant:"btn btn-success save",type:"link",onClick:this.addComment},"Save")),a),r.a.createElement("aside",{className:"asideMap mapbg"},r.a.createElement(_,{className:"mapbg",trail:this.state.trail,crd:this.props.location.crd})))}}]),t}(n.Component),M=a(62),U=a(61),z=a.n(U),F="http://localhost:8000",$=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={redirect:!1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-12 col-sm-4 col-md-3"},r.a.createElement(T.a,{className:"deck"},r.a.createElement(T.a.Img,{variant:"top",src:this.props.trail.imgMedium||this.props.trail.imgSmallMed||this.props.trail.imgSmall||this.props.trail.imgSqSmall||z.a}),r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Title,null,"Trail Name:",r.a.createElement("br",null),this.props.trail.name),r.a.createElement(T.a.Text,null,"Location:",r.a.createElement("br",null),this.props.trail.location),r.a.createElement(T.a.Text,{className:"cardsummary"},"Summary:",r.a.createElement("br",null),this.props.trail.summary),r.a.createElement(T.a.Text,null,this.props.trail.park_name),r.a.createElement(w.a,{variant:"info",type:"button",onClick:function(){return e.props.showDetails(e.props.trail,e.props.crd)}},"Details"))))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).showDetails=function(e,t){console.log("debuging",a.state.crd),console.log(e);for(var n=Object(M.a)(a.state.trails),r=0;r<n.length;r++)if(n[r].reference_id===e.id)return void a.props.history.push({pathname:"trails/".concat(n[r].id),trail:n[r],crd:t});var o={};o.reference_id=e.id,o.trail_name=e.name,o.location=e.location,o.summary=e.summary||"No summary provided",o.longitude=e.longitude,o.latitude=e.latitude,o.length=e.length,o.difficulty=e.difficulty,v.a.post("".concat(F,"/api/v1/trails/"),o,{headers:{"Content-type":"application/json",Authorization:"Token ".concat(localStorage.getItem("tinyTrailsToken"))}}).then(function(e){console.log("obj save",e.data),a.props.history.push({pathname:"trails/".concat(e.data.id),trail:e.data,crd:t})}).catch(function(e){console.log("Oops, something went wrong",e)})},a.getTrail=function(){},a.getApiData=function(){navigator.geolocation.getCurrentPosition(function(e){var t=e.coords;a.setState({crd:e.coords}),v.a.get("".concat(F,"/api/v1/hiker_api/?lat=").concat(t.latitude,"&lon=").concat(t.longitude,"&max_distance=").concat(20)).then(function(e){console.log(e.data.trails);var t=e.data.trails.filter(function(e){return"blue"===e.difficulty||"green"===e.difficulty});a.setState({api:t})}).catch(function(e){console.log("Oops, something went wrong",e)})},function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},a.state={trails:[],api:[]},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getTrail(),this.getApiData()}},{key:"render",value:function(){var e=this,t=this.state.api.map(function(t){return r.a.createElement($,{key:t.id,trail:t,showDetails:e.showDetails,crd:e.state.crd})});return r.a.createElement("div",{className:"row"},t)}}]),t}(n.Component),H=function(e){var t=e.text;return r.a.createElement("div",null,t)},W=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(D.a,{bootstrapURLKeys:{key:"$process.env.REACT_APP_GOOGLE_MAPS_API_KEY"},defaultCenter:this.props.center,defaultZoom:this.props.zoom},r.a.createElement(H,{lat:this.props.location.park?this.props.location.park.lat:34.85,lng:this.props.location.park?this.props.location.park.lng:-82.31,text:this.props.location.park?this.props.location.park.name:""}),r.a.createElement(H,{lat:this.props.location.park?this.props.location.park.crd.latitude:34.85,lng:this.props.location.park?this.props.location.park.crd.longitude:-82.31,text:this.props.location.park?"You are here!":""})))}}]),t}(n.Component);W.defaultProps={center:{lat:34.85,lng:-82.31},zoom:9};var Z=W;l.a.render(r.a.createElement(i.a,null,r.a.createElement(u,null,r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/signup/",component:j}),r.a.createElement(s.a,{path:"/login/",component:O}),r.a.createElement(s.a,{path:"/trails/:id/",component:R}),r.a.createElement(s.a,{path:"/trails/",component:B}),r.a.createElement(s.a,{path:"/SimpleMap/",component:Z}),r.a.createElement(s.a,{exact:!0,path:"/",component:P})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},27:function(e,t,a){},61:function(e,t,a){e.exports=a.p+"static/media/toddler2.92e1f200.jpg"},63:function(e,t,a){e.exports=a(130)},68:function(e,t,a){}},[[63,1,2]]]);
//# sourceMappingURL=main.575c0af9.chunk.js.map